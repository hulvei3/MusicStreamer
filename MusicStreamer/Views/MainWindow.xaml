<Window x:Class="MusicStreamer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converter="clr-namespace:MusicStreamer.CustomCommands.Converters"
        xmlns:controls="clr-namespace:MusicStreamer.Controls"
        Title="MusicStreamer" Height="627" Width="784" Name="windowMain" ResizeMode="CanResizeWithGrip" Background="{StaticResource GradientHoriBackground}" Loaded="windowMain_Loaded" Icon="pack://application:,,,/Resources/ApplicationIcon.png">
    <Window.Resources>
        <converter:ConnectConverter x:Key="ConnectConverterKey"></converter:ConnectConverter>
    </Window.Resources>
    <Grid Name="gridMain">
        <Grid Name="gridMain2" Margin="-2,54,-1,2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="420" />
                <ColumnDefinition Width="43" />
                <ColumnDefinition Width="293*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="124" />
                <RowDefinition Height="8" />
                <RowDefinition Height="270*" />
                <RowDefinition Height="24" />
            </Grid.RowDefinitions>

            <!-- Player Area -->
            <Grid Height="124" Name="gridPlayer" VerticalAlignment="Top" HorizontalAlignment="Left" Width="457" Grid.ColumnSpan="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="420" />
                    <ColumnDefinition Width="43" />
                    <ColumnDefinition Width="293*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="124" />
                    <RowDefinition Height="8" />
                    <RowDefinition Height="270*" />
                    <RowDefinition Height="24" />
                </Grid.RowDefinitions>

                <Slider Value="{Binding Path=Player.Volume}" Grid.RowSpan="3" Height="103" HorizontalAlignment="Left" Margin="8,15,0,0" Name="sliderVolume" VerticalAlignment="Top" Width="23" Orientation="Vertical" Maximum="100" Grid.Column="1" SmallChange="1" LargeChange="10" />
                
                <controls:PlayerButton x:Name="buttonPlay" Image="pack://application:,,,/Resources/PlayPause.png" HorizontalAlignment="Right" VerticalAlignment="Top"
                        ImageWidth="45" ImageHeight="45" Margin="0,41,249,0" CommandParameter="{Binding ElementName=textBoxCurrentSong, Path=Text}" Background="{x:Null}" />
                <controls:PlayerButton Image="pack://application:,,,/Resources/PrevSong.png" HorizontalAlignment="Left" VerticalAlignment="Top"
                        ImageWidth="45" ImageHeight="45" Margin="12,41,0,0" x:Name="buttonPrev" Background="{x:Null}" />
                <controls:PlayerButton Image="pack://application:,,,/Resources/StopSong.png" HorizontalAlignment="Left" VerticalAlignment="Top"
                        ImageWidth="45" ImageHeight="45" Margin="66,41,0,0" x:Name="buttonStop" Background="{x:Null}" />
                <controls:PlayerButton Image="pack://application:,,,/Resources/NextSong.png" HorizontalAlignment="Left" VerticalAlignment="Top"
                        ImageWidth="45" ImageHeight="45" Margin="174,41,0,0" x:Name="buttonSkip" Background="{x:Null}" />
                <controls:PlayerButton Image="pack://application:,,,/Resources/Shuffle.png" HorizontalAlignment="Left" VerticalAlignment="Top"
                        ImageWidth="45" ImageHeight="45" Margin="317,41,0,0" x:Name="buttonShuffle" Background="{x:Null}" />
                <controls:PlayerButton Image="pack://application:,,,/Resources/Repeat.png" HorizontalAlignment="Left" VerticalAlignment="Top"
                        ImageWidth="45" ImageHeight="45" Grid.ColumnSpan="2" Margin="370,41,0,0" x:Name="buttonRepeat" Background="{x:Null}" />
                
                <TextBox Text="{Binding Path=CurrentSong.CurrentTimeFormatted, Mode=OneWay}" FontSize="18" FontWeight="Bold" Height="32" IsReadOnly="True" Margin="228,46,0,0" MaxLines="1" Name="textBoxTime" Opacity="0.7" TextAlignment="Center" VerticalAlignment="Top" HorizontalAlignment="Left" Width="86" Padding="0" />
                <ProgressBar Value="{Binding Path=CurrentSong.StreamerDownloadProgress}" Height="10" HorizontalAlignment="Left" Margin="12,92,0,0" Name="progressBar1" VerticalAlignment="Top" Width="408" Opacity="0.5" Maximum="4000" BorderBrush="{x:Null}" Background="{x:Null}" />

                <Slider Value="{Binding Path=CurrentSong.CurrentTime}" Maximum="{Binding Path=CurrentSong.SongLength}" Height="23" HorizontalAlignment="Left" Margin="12,101,0,0" Name="sliderSeeker" VerticalAlignment="Top" Width="402" />
                <TextBox Text="{Binding Path=Playlist.SelectedPlaylistItem.Url}" Height="23" HorizontalAlignment="Left" Margin="12,6,0,0" Name="textBoxCurrentSong" VerticalAlignment="Top" Width="408" />
                
            </Grid>
            
            <!-- Playlist Area-->
            <Grid Grid.Row="2" Name="gridPlaylist" HorizontalAlignment="Left" Width="457" Grid.ColumnSpan="2">
                <TextBox Name="textBoxIP" Text="90.184.75.15" Margin="6,0,0,0" Height="22" VerticalAlignment="Top" HorizontalAlignment="Left" Width="100" ToolTip="Put host address here" />
                <TextBox Name="textBoxUser" Text="streamer" Margin="107,0,0,0" Height="22" VerticalAlignment="Top" HorizontalAlignment="Left" Width="101" ToolTip="Put FTP-username here" />
                <TextBox Name="textBoxPassword" Text="streamerpassword" Margin="208,0,0,0" HorizontalAlignment="Left" Width="89" Height="22" VerticalAlignment="Top" ToolTip="Put FTP-password here" />
                <Button Content="Connect" Name="buttonConnect" Margin="308,0,0,0" Height="22" VerticalAlignment="Top" HorizontalAlignment="Left" Width="143" ToolTip="Connect to the server">
                    <Button.CommandParameter>
                        <MultiBinding Converter="{StaticResource ConnectConverterKey}">
                            <Binding ElementName="textBoxIP" Path="Text"/>
                            <Binding ElementName="textBoxUser" Path="Text"/>
                            <Binding ElementName="textBoxPassword" Path="Text"/>
                        </MultiBinding>
                    </Button.CommandParameter>
                </Button>
                <!-- PLAYLIST -->
                <ListBox Name="playlist" Margin="6,46,0,38" ItemsSource="{Binding Path=Playlist.CurrentUIPlaylist}" ItemTemplate="{StaticResource playlistTemplate}" SelectedItem="{Binding Path=Playlist.SelectedPlaylistItem}" />
                <controls:PlayerButton Image="pack://application:,,,/Resources/ClearPlaylist.png" Command="ApplicationCommands.New" HorizontalAlignment="Left" Margin="8,338,0,0" x:Name="ClearPlaylistButton" VerticalAlignment="Top" Height="38" Width="38" ImageHeight="30" ImageWidth="30" Background="{x:Null}" />
                <controls:PlayerButton Image="pack://application:,,,/Resources/SavePlaylist.png" Command="ApplicationCommands.Save" HorizontalAlignment="Right" Margin="0,338,368,0" x:Name="SavePlaylistButton" VerticalAlignment="Top" Height="38" Width="40" ImageHeight="30" ImageWidth="30" Background="{x:Null}" />
                <controls:PlayerButton Image="pack://application:,,,/Resources/LoadPlaylist.png" Command="ApplicationCommands.Open" HorizontalAlignment="Right" Margin="0,338,323,0" x:Name="LoadPlaylistButton" VerticalAlignment="Top" Height="38" Width="42" ImageHeight="30" ImageWidth="30" Background="{x:Null}" />
                
            </Grid>

            <!-- Server area -->
            <Grid Grid.Column="2" Name="gridServer" Grid.RowSpan="3" Grid.ColumnSpan="2" >
                <ListBox ItemsSource="{Binding Path=Navigation.CurrentList}" ItemTemplate="{StaticResource serverListTemplate}" Margin="6,43,6,38" Name="serverlistBox" 
                     SelectedValue="{Binding Path=Navigation.SelectedServerListItem}" >
                </ListBox>
                <TextBox Text="{Binding Path=Navigation.CurrentLocation}" Height="23" Margin="6,6,6,0" PreviewKeyUp="currentLocationTextBox_PreviewKeyUp"
                     IsReadOnly="False" Name="currentLocationTextBox" VerticalAlignment="Top" />
            </Grid>


            <StatusBar Grid.Row="3" Margin="0,1,0,0" Name="statusBar" Grid.ColumnSpan="3" Height="23" VerticalAlignment="Top">
                <StatusBarItem Content="{Binding Path=CurrentSong.DebugText}" />
                <StatusBarItem Content="{Binding Path=CurrentSong.PlayerState}" HorizontalContentAlignment="Right"/>
            </StatusBar>
        </Grid>

        <!--Top Menu-->
        <Menu Name="HelpMenu" Height="21" VerticalAlignment="Top">
            <MenuItem Name="File" Header="File" Width="Auto" Height="Auto">
                <MenuItem Header="Clear Playlist" Command="ApplicationCommands.New">
                    <MenuItem.Icon>
                        <Image Source="pack://application:,,,/Resources/ClearPlaylist.png" Width="20" Height="20"></Image>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Open Playlist" Command="ApplicationCommands.Open">
                    <MenuItem.Icon>
                        <Image Source="pack://application:,,,/Resources/LoadPlaylist.png" Width="20" Height="20"></Image>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Save Playlist" Command="ApplicationCommands.Save">
                    <MenuItem.Icon>
                        <Image Source="pack://application:,,,/Resources/SavePlaylist.png" Width="20" Height="20"></Image>
                    </MenuItem.Icon>
                </MenuItem>
                <Separator/>
                <MenuItem Header="Close" Command="ApplicationCommands.Close"></MenuItem>
            </MenuItem>
            <MenuItem Name="Edit" Header="Edit" Width="Auto" Height="Auto">
                <MenuItem Header="Undo" Command="ApplicationCommands.Undo"></MenuItem>
                <MenuItem Header="Redo" Command="ApplicationCommands.Redo"></MenuItem>
            </MenuItem>
            <MenuItem Name="Help" Header="Help" Width="Auto" Height="Auto">
                <MenuItem Header="How to use the..">
                    <MenuItem Header="Server.."></MenuItem>
                    <MenuItem Header="Player.."></MenuItem>
                    <MenuItem Header="Playlist.."></MenuItem>
                </MenuItem>
                <MenuItem Header="About" Command="ApplicationCommands.Help"></MenuItem>
            </MenuItem>
        </Menu>
    </Grid>

</Window>
